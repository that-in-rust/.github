# Notes 20250910

## Plan for next few days - from 15 Sep to 25 Sep


## Deepthink Interface Stub Ideas

``` text
I further thought about your ideas - here are a few ideas to further push our thinking - and would love your creative thinking on this

use case: new greenfield project
- idea 1 - can we compress the code logic to 1% of the actual codebase which we have to write only using interface signatures? Basically Interface-Stub as an architecture spec. Basically a compact JSONL that declares requirements, types, operations, edges, scenarios, guards, policies. It should be able to help us analyze coverage, p99 budgets, idempotency, consistency

- idea 2 - 

```


## LLM Ranking Pipeline


```mermaid
graph TD
    subgraph Legend
        direction LR
        L1(Component)
        L2(Data/Model)
        L3(Process Flow)

        style L1 fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
        style L2 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
        style L3 stroke:#f00,stroke-width:2px,color:#f00
    end

    subgraph "Stage 1: Candidate Sourcing (Billions → ~1,500)"
        A --> B(cr-mixer / Home-Mixer);
        B --> C{Candidate Sources};
        C -- In-Network --> D;
        C -- Out-of-Network --> E;
        C -- Out-of-Network --> F;
        C -- Out-of-Network --> G;
        C -- Out-of-Network --> H;
        D --> I;
        E --> J[Graph-based Candidates];
        F --> K[Community-based Candidates];
        G --> L;
        H --> M[Follow-based Candidates];
        subgraph "Data & Models"
            D_M1
            D_M2
            D_M3
            D_M4
        end
        D_M1 --> D;
        D_M2 --> D;
        D_M3 --> F;
        D_M4 --> G;
    end

    subgraph "Stage 2: Ranking (~1,500 → ~150)"
        I & J & K & L & M --> N(Unified Candidate Pool);
        N --> O(Light Ranker);
        O --> P(Heavy Ranker);
        subgraph "Data & Models"
            R_M1
            R_M2[Graph Features]
            R_M3
        end
        R_M1 & R_M2 & R_M3 --> P;
    end

    subgraph "Stage 3: Post-Processing (~150 → Final Feed)"
        P --> Q(Ranked & Scored List);
        Q --> R{Filtering & Heuristics};
        R -- Visibility Filters --> S[Filtered List];
        R -- Trust & Safety Models --> S;
        S --> T{Blending & Mixing};
        T -- Ads Blender --> U[Final Feed];
        T -- Interleave Blender --> U;
    end

    style B fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style D fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style E fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style F fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style G fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style H fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style O fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style P fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px
    style T fill:#dae8fc,stroke:#6c8ebf,stroke-width:2px

    style D_M1 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style D_M2 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style D_M3 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style D_M4 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style R_M1 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style R_M2 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
    style R_M3 fill:#d5e8d4,stroke:#82b366,stroke-width:2px
```